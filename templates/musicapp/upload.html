{% extends 'musicapp/base.html' %}
{% load static %}
{% block main %}
    <link rel="stylesheet" href="{% static 'musicapp/css/forms.css' %}">
    <div class="auth-page">
        <div class="form-div card">
            {% if not upload_message %}
                <h1>Upload your song</h1>
                <form action="" method="post" enctype="multipart/form-data" class="row g-3">
                    {% csrf_token %}
                    {#                    {% for f in form %}#}
                    {#                        <p>#}
                    {#                            <label class="form-label">{{ f.label }}: </label>#}
                    {#                            {{ f }}#}
                    {#                        </p>#}
                    {#                        <div class="form-error">{{ f.errors }}</div>#}
                    {#                    {% endfor %}#}
                    {{ form.non_field_errors }}
                    <div class="field col-md-12">
                        {{ form.title.errors }}
                        <label for="{{ form.title.id_for_label }}" class="form-label">Title:</label>
                        <input type="text" name="title" class="form-control" id="id_title">
                    </div>
                    <div class="field col-md-12">
                        {{ form.artist.errors }}
                        <label for="{{ form.artist.id_for_label }}" class="form-label">Artist:</label>
                        <input type="text" name="artist" class="form-control" id="id_artist">
                    </div>
                    <div class="col-md-12">
                        {{ form.album.errors }}
                        <label for="{{ form.artist.id_for_label }}" class="form-label">Album:</label>
                        {{ form.album }}
                    </div>
                    <div class="col-md-6">
                        {{ form.cover.errors }}
                        <label for="{{ form.cover.id_for_label }}" class="form-label">Cover:</label>
                        {{ form.cover }}
                    </div>
                    <div class="col-md-6">
                        {{ form.file.errors }}
                        <label for="{{ form.file.id_for_label }}" class="form-label">File:</label>
                        {{ form.file }}
                    </div>
                    <div class="btn-div">
                        <button type="submit">Upload</button>
                    </div>
                </form>
            {% else %}
                <div class="upload-message">
                    <div>
                        <img
                                src="{% static 'musicapp/img/successful.svg' %}"
                                alt="successfull-img"
                        />
                    </div>
                    <span>
                        Successfully uploaded!
                    </span>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}
